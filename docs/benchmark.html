<!DOCTYPE html>
<html>
<head>
  <title>Benchmark</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      position: absolute;
      width: 100%;
      height: 100%;
      display: grid;
      align-items: center;
      justify-content: center;
      justify-items: center;
      grid-template-columns: repeat(2, 1fr);
    }
    .histogram {
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 80%;
    }
    .histogram > * {
      display: flex;
      gap: 1em;
    }
    .histogram .item {
      width: 10em;
      text-align: center;
    }
    .histogram .name {
      text-align: center;
    }
    .histogram .bars {
      align-items: flex-end;
      height: 100%;
    }
    .histogram .bars .item[data-id="python-pytorch"] {
      background-color: #ee4c2c;
    }
    .histogram .bars .item[data-id="python-ort"] {
      background-color: #ffd21e;
    }
    .histogram .bars .item[data-id="rust-ort"] {
      background-color: #353535;
    }
    #total-time .values .item::after {
      content: "ms";
    }
    #peak-memory .values .item::after {
      content: "KiB";
    }
  </style>
</head>
<body>
  <div class="histogram" id="total-time">
    <div class="bars">
      <div class="item" data-id="python-pytorch"></div>
      <div class="item" data-id="python-ort"></div>
      <div class="item" data-id="rust-ort"></div>
    </div>
    <div class="titles">
      <div class="item" data-id="python-pytorch">Python-PyTorch</div>
      <div class="item" data-id="python-ort">Python-ORT</div>
      <div class="item" data-id="rust-ort">Rust-ORT</div>
    </div>
    <div class="values">
      <div class="item" data-id="python-pytorch">108662</div>
      <div class="item" data-id="python-ort">105439</div>
      <div class="item" data-id="rust-ort">81105</div>
    </div>
    <h3 class="name">Total Time</h3>
  </div>
  <div class="histogram" id="peak-memory">
    <div class="bars">
      <div class="item" data-id="python-pytorch"></div>
      <div class="item" data-id="python-ort"></div>
      <div class="item" data-id="rust-ort"></div>
    </div>
    <div class="titles">
      <div class="item" data-id="python-pytorch">Python-PyTorch</div>
      <div class="item" data-id="python-ort">Python-ORT</div>
      <div class="item" data-id="rust-ort">Rust-ORT</div>
    </div>
    <div class="values">
      <div class="item" data-id="python-pytorch">396180</div>
      <div class="item" data-id="python-ort">422344</div>
      <div class="item" data-id="rust-ort">173404</div>
    </div>
    <h3 class="name">Peak Memory</h3>
  </div>
  <script>(() => {
    const hists = document.querySelectorAll('.histogram');
    for (const hist of hists) {
      let max_value = 0;
      hist
        .querySelectorAll('.values .item')
        .forEach((el) => {
          max_value = Math.max(
            parseInt(el.textContent),
            max_value,
          );
        });
      hist
        .querySelectorAll('.values .item')
        .forEach((el) => {
          const data_id = el.dataset.id;
          const value = parseInt(el.textContent);
          const height_ratio = Math.trunc(value / max_value * 100);
          el.textContent = `(${height_ratio}%) ${el.textContent}`;
          hist
            .querySelector(`.bars .item[data-id="${data_id}"]`)
            .style.height = `${height_ratio}%`;
        });
    }
  })();</script>
</body>
</html>